<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
  <title>Gallery</title>

  <link rel="stylesheet" type="text/css" href="slick/slick.css"/>
  <link rel="stylesheet" type="text/css" href="slick/slick-theme.css"/>

  <link href="css/style.css" rel="stylesheet" type="text/css" />
  <script src="js/template.js"></script>

</head>

<body>

  <!-- header -->
  <header id="header"></header>

  <!-- content -->
  <div class="content-container">

    <div class="content">

      <h1>Debris Field Art</h1>
      <hr>
      <!-- gallery -->
      <div id="debris-field-gallery" class=""></div>

    </div>


    <div class="content">

      <h1>Undine (Unreleased)</h1>
      <hr>
      <!-- gallery -->
      <div id="undine-gallery" class=""></div>

    </div>


  </div>
</div>
<!-- end content container -->

<!-- footer -->
<footer id="footer"></footer>

<script type="text/javascript" src="js/jquery-3.3.1.min.js"></script>
<script type="text/javascript" src="slick/slick.js"></script>
<!--<script type="text/javascript" src="js/gallery.js"></script>-->

<script>
    $(document).ready(function(){

      var extension = [".png", ".jpg"];
      
      var dir = "/images/gallery/debris-field-art";
      $.ajax({
          //This will retrieve the contents of the folder if the folder is configured as 'browsable'
          url: dir,
          success: function (data) {

              //List all .png file names in the page
              $(data).find("a:contains(" + (extension[0]) + "), a:contains(" + (extension[1]) + ")").each(function () { 
                  var filename = this.href.replace(window.location.host, "").replace("http://", "");

                  $("#debris-field-gallery").append("<div class='gallery-item'><img class='gallery-image' src='" + filename + "' alt='Debris Field 13'></div>");
              });

              $('#debris-field-gallery').slick({  dots: true,
                infinite: true,
                speed: 300,
                slidesToShow: 1
              });
      
          }
      });


      fetch("/images/gallery/debris-field-art")
        .then((response) => response.text())
          .then((html) => {

              //List all .png file names in the page
              $(html).find("a:contains(" + (extension[0]) + "), a:contains(" + (extension[1]) + ")").each(function () { 
                  var filename = this.href.replace(window.location.host, "").replace("http://", "");

                  $("#debris-field-gallery").append("<div class='gallery-item'><img class='gallery-image' src='" + filename + "' alt='Debris Field 13'></div>");
              });

              $('#debris-field-gallery').slick({  dots: true,
                infinite: true,
                speed: 300,
                slidesToShow: 1
              });



        })
        .catch((error) => {
            console.warn(error);
      });


      var dir = "/images/gallery/undine";
      $.ajax({
          //This will retrieve the contents of the folder if the folder is configured as 'browsable'
          url: dir,
          success: function (data) {

              //List all .png file names in the page
              $(data).find("a:contains(" + (extension[0]) + "), a:contains(" + (extension[1]) + ")").each(function () { 
                  var filename = this.href.replace(window.location.host, "").replace("http://", "");
                  
                  $("#undine-gallery").append("<div class='gallery-item'><img class='gallery-image' src='" + filename + "' alt='Debris Field 13'></div>");
              });

              $('#undine-gallery').slick({  dots: true,
                infinite: true,
                speed: 300,
                slidesToShow: 1
              });
      
          }
      });


    });

</script>

</body>
</html>
